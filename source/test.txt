
> approom@1.0.0 dbsetup E:\MyDocs\Programming\nodejs\approom\source
> node approom.js dbsetup

Connecting to mongoose-mongodb: mongodb://localhost/approomdb
Setting up model schema for acl
mongoose model:
{ [Function: model]
  hooks:
   Kareem {
     _pres: Map { 'save' => [Array], 'remove' => [Array] },
     _posts: Map { 'save' => [Array], 'init' => [Array] } },
  base:
   Mongoose {
     connections: [ [NativeConnection] ],
     models: { acl: [Circular] },
     modelSchemas: { acl: [Schema] },
     options: { pluralization: true },
     _pluralize: [Function: pluralize],
     Schema:
      { [Function: Schema] reserved: [Object], Types: [Object], ObjectId: [Function] },
     model: [Function],
     plugins: [ [Array], [Array], [Array], [Array] ] },
  modelName: 'acl',
  model: [Function: model],
  db:
   NativeConnection {
     base:
      Mongoose {
        connections: [Array],
        models: [Object],
        modelSchemas: [Object],
        options: [Object],
        _pluralize: [Function: pluralize],
        Schema: [Function],
        model: [Function],
        plugins: [Array] },
     collections: { acl: [NativeCollection] },
     models: { acl: [Circular] },
     config: { autoIndex: true, useCreateIndex: true },
     replica: false,
     options: null,
     otherDbs: [],
     relatedDbs: {},
     states:
      [Object: null prototype] {
        '0': 'disconnected',
        '1': 'connected',
        '2': 'connecting',
        '3': 'disconnecting',
        '99': 'uninitialized',
        disconnected: 0,
        connected: 1,
        connecting: 2,
        disconnecting: 3,
        uninitialized: 99 },
     _readyState: 1,
     _closeCalled: false,
     _hasOpened: true,
     plugins: [],
     '$internalEmitter':
      EventEmitter {
        _events: [Object: null prototype] {},
        _eventsCount: 0,
        _maxListeners: 0 },
     _listening: false,
     _connectionOptions:
      { useNewUrlParser: true, promiseLibrary: [Function: Promise] },
     name: 'approomdb',
     host: 'localhost',
     port: 27017,
     user: undefined,
     pass: undefined,
     client:
      MongoClient {
        _events: [Object],
        _eventsCount: 1,
        _maxListeners: undefined,
        s: [Object],
        topology: [Server] },
     '$initialConnection': Promise { [Circular] },
     db:
      Db {
        _events: [Object],
        _eventsCount: 3,
        _maxListeners: undefined,
        s: [Object],
        serverConfig: [Getter],
        bufferMaxEntries: [Getter],
        databaseName: [Getter] } },
  discriminators: undefined,
  events:
   EventEmitter {
     _events: [Object: null prototype] {},
     _eventsCount: 0,
     _maxListeners: undefined },
  '$appliedMethods': true,
  setupModelSchema: [AsyncFunction: setupModelSchema],
  dbInit: [AsyncFunction: dbInit],
  getCollectionName: [Function: getCollectionName],
  buildSchema: [Function: buildSchema],
  '$appliedHooks': true,
  _middleware:
   Kareem {
     _pres: Map { 'save' => [Array], 'remove' => [Array] },
     _posts: Map { 'save' => [Array], 'init' => [Array] } },
  '$__insertMany': [Function],
  schema:
   Schema {
     obj: { permission: [Object] },
     paths:
      { permission: [SchemaString],
        _id: [ObjectId],
        __v: [SchemaNumber] },
     aliases: {},
     subpaths: {},
     virtuals: { id: [VirtualType] },
     singleNestedPaths: {},
     nested: {},
     inherits: {},
     callQueue: [],
     _indexes: [],
     methods: {},
     methodOptions: {},
     statics:
      { setupModelSchema: [AsyncFunction: setupModelSchema],
        dbInit: [AsyncFunction: dbInit],
        getCollectionName: [Function: getCollectionName],
        buildSchema: [Function: buildSchema] },
     tree:
      { permission: [Object],
        _id: [Object],
        __v: [Function: Number],
        id: [VirtualType] },
     query: {},
     childSchemas: [],
     plugins: [ [Object], [Object], [Object], [Object], [Object] ],
     '$id': 1,
     s: { hooks: [Kareem] },
     _userProvidedOptions: { collection: 'acl' },
     options:
      { collection: 'acl',
        typeKey: 'type',
        id: true,
        noVirtualId: false,
        _id: true,
        noId: false,
        validateBeforeSave: true,
        read: null,
        shardKey: null,
        autoIndex: null,
        minimize: true,
        discriminatorKey: '__t',
        versionKey: '__v',
        capped: false,
        bufferCommands: true,
        strict: true,
        pluralization: true },
     '$globalPluginsApplied': true,
     [Symbol(Mongoose.helpers.setParentPointers)]: true },
  collection:
   NativeCollection {
     collection: Collection { s: [Object] },
     Promise: [Function: Promise],
     opts:
      { bufferCommands: true,
        capped: false,
        Promise: [Function: Promise],
        '$wasForceClosed': undefined },
     name: 'acl',
     collectionName: 'acl',
     conn:
      NativeConnection {
        base: [Mongoose],
        collections: [Object],
        models: [Object],
        config: [Object],
        replica: false,
        options: null,
        otherDbs: [],
        relatedDbs: {},
        states: [Object],
        _readyState: 1,
        _closeCalled: false,
        _hasOpened: true,
        plugins: [],
        '$internalEmitter': [EventEmitter],
        _listening: false,
        _connectionOptions: [Object],
        name: 'approomdb',
        host: 'localhost',
        port: 27017,
        user: undefined,
        pass: undefined,
        client: [MongoClient],
        '$initialConnection': [Promise],
        db: [Db] },
     queue: [],
     buffer: false,
     emitter:
      EventEmitter {
        _events: [Object: null prototype] {},
        _eventsCount: 0,
        _maxListeners: undefined } },
  Query:
   { [Function]
     base:
      Query {
        toConstructor: [Function: toConstructor],
        setOptions: [Function],
        collection: [Function: collection],
        collation: [Function],
        '$where': [Function],
        where: [Function],
        equals: [Function: equals],
        eq: [Function: eq],
        or: [Function: or],
        nor: [Function: nor],
        and: [Function: and],
        gt: [Function],
        gte: [Function],
        lt: [Function],
        lte: [Function],
        ne: [Function],
        in: [Function],
        nin: [Function],
        all: [Function],
        regex: [Function],
        size: [Function],
        maxDistance: [Function],
        minDistance: [Function],
        mod: [Function],
        exists: [Function],
        elemMatch: [Function],
        within: [Function: within],
        box: [Function],
        polygon: [Function],
        circle: [Function],
        near: [Function: near],
        intersects: [Function: intersects],
        geometry: [Function: geometry],
        select: [Function: select],
        slice: [Function],
        sort: [Function],
        limit: [Function],
        skip: [Function],
        maxScan: [Function],
        batchSize: [Function],
        comment: [Function],
        maxTimeMS: [Function],
        maxTime: [Function],
        snapshot: [Function],
        hint: [Function],
        j: [Function: j],
        slaveOk: [Function],
        setReadPreference: [Function],
        read: [Function],
        r: [Function],
        readConcern: [Function],
        tailable: [Function],
        w: [Function: writeConcern],
        writeConcern: [Function: writeConcern],
        wTimeout: [Function: wtimeout],
        wtimeout: [Function: wtimeout],
        merge: [Function],
        find: [Function],
        cursor: [Function: cursor],
        findOne: [Function],
        count: [Function],
        distinct: [Function],
        update: [Function: update],
        updateMany: [Function: updateMany],
        updateOne: [Function: updateOne],
        replaceOne: [Function: replaceOne],
        remove: [Function],
        deleteOne: [Function],
        deleteMany: [Function],
        findOneAndUpdate: [Function],
        findOneAndDelete: [Function],
        findOneAndRemove: [Function],
        _findAndModify: [Function],
        _wrapCallback: [Function],
        setTraceFunction: [Function],
        exec: [Function: exec],
        thunk: [Function],
        then: [Function],
        stream: [Function],
        selected: [Function: selected],
        selectedInclusively: [Function: selectedInclusively],
        selectedExclusively: [Function: selectedExclusively],
        _mergeUpdate: [Function],
        _optionsForExec: [Function],
        _fieldsForExec: [Function],
        _updateForExec: [Function],
        _ensurePath: [Function],
        _validate: [Function] } },
  '$init': Promise { [Circular] },
  '$caught': true,
  [Symbol(mongoose#Model)]: true }
Setting up model schema for apps
mongoose model:
{ [Function: model]
  hooks:
   Kareem {
     _pres: Map { 'save' => [Array], 'remove' => [Array] },
     _posts: Map { 'save' => [Array], 'init' => [Array] } },
  base:
   Mongoose {
     connections: [ [NativeConnection] ],
     models: { acl: [Function], apps: [Circular] },
     modelSchemas: { acl: [Schema], apps: [Schema] },
     options: { pluralization: true },
     _pluralize: [Function: pluralize],
     Schema:
      { [Function: Schema] reserved: [Object], Types: [Object], ObjectId: [Function] },
     model: [Function],
     plugins: [ [Array], [Array], [Array], [Array] ] },
  modelName: 'apps',
  model: [Function: model],
  db:
   NativeConnection {
     base:
      Mongoose {
        connections: [Array],
        models: [Object],
        modelSchemas: [Object],
        options: [Object],
        _pluralize: [Function: pluralize],
        Schema: [Function],
        model: [Function],
        plugins: [Array] },
     collections: { acl: [NativeCollection], apps: [NativeCollection] },
     models: { acl: [Function], apps: [Circular] },
     config: { autoIndex: true, useCreateIndex: true },
     replica: false,
     options: null,
     otherDbs: [],
     relatedDbs: {},
     states:
      [Object: null prototype] {
        '0': 'disconnected',
        '1': 'connected',
        '2': 'connecting',
        '3': 'disconnecting',
        '99': 'uninitialized',
        disconnected: 0,
        connected: 1,
        connecting: 2,
        disconnecting: 3,
        uninitialized: 99 },
     _readyState: 1,
     _closeCalled: false,
     _hasOpened: true,
     plugins: [],
     '$internalEmitter':
      EventEmitter {
        _events: [Object: null prototype] {},
        _eventsCount: 0,
        _maxListeners: 0 },
     _listening: false,
     _connectionOptions:
      { useNewUrlParser: true, promiseLibrary: [Function: Promise] },
     name: 'approomdb',
     host: 'localhost',
     port: 27017,
     user: undefined,
     pass: undefined,
     client:
      MongoClient {
        _events: [Object],
        _eventsCount: 1,
        _maxListeners: undefined,
        s: [Object],
        topology: [Server] },
     '$initialConnection': Promise { [Circular] },
     db:
      Db {
        _events: [Object],
        _eventsCount: 3,
        _maxListeners: undefined,
        s: [Object],
        serverConfig: [Getter],
        bufferMaxEntries: [Getter],
        databaseName: [Getter] } },
  discriminators: undefined,
  events:
   EventEmitter {
     _events: [Object: null prototype] {},
     _eventsCount: 0,
     _maxListeners: undefined },
  '$appliedMethods': true,
  setupModelSchema: [AsyncFunction: setupModelSchema],
  dbInit: [AsyncFunction: dbInit],
  getCollectionName: [Function: getCollectionName],
  buildSchema: [Function: buildSchema],
  '$appliedHooks': true,
  _middleware:
   Kareem {
     _pres: Map { 'save' => [Array], 'remove' => [Array] },
     _posts: Map { 'save' => [Array], 'init' => [Array] } },
  '$__insertMany': [Function],
  schema:
   Schema {
     obj: { name: [Object] },
     paths:
      { name: [SchemaString], _id: [ObjectId], __v: [SchemaNumber] },
     aliases: {},
     subpaths: {},
     virtuals: { id: [VirtualType] },
     singleNestedPaths: {},
     nested: {},
     inherits: {},
     callQueue: [],
     _indexes: [],
     methods: {},
     methodOptions: {},
     statics:
      { setupModelSchema: [AsyncFunction: setupModelSchema],
        dbInit: [AsyncFunction: dbInit],
        getCollectionName: [Function: getCollectionName],
        buildSchema: [Function: buildSchema] },
     tree:
      { name: [Object],
        _id: [Object],
        __v: [Function: Number],
        id: [VirtualType] },
     query: {},
     childSchemas: [],
     plugins: [ [Object], [Object], [Object], [Object], [Object] ],
     '$id': 2,
     s: { hooks: [Kareem] },
     _userProvidedOptions: { collection: 'apps' },
     options:
      { collection: 'apps',
        typeKey: 'type',
        id: true,
        noVirtualId: false,
        _id: true,
        noId: false,
        validateBeforeSave: true,
        read: null,
        shardKey: null,
        autoIndex: null,
        minimize: true,
        discriminatorKey: '__t',
        versionKey: '__v',
        capped: false,
        bufferCommands: true,
        strict: true,
        pluralization: true },
     '$globalPluginsApplied': true,
     [Symbol(Mongoose.helpers.setParentPointers)]: true },
  collection:
   NativeCollection {
     collection: Collection { s: [Object] },
     Promise: [Function: Promise],
     opts:
      { bufferCommands: true,
        capped: false,
        Promise: [Function: Promise],
        '$wasForceClosed': undefined },
     name: 'apps',
     collectionName: 'apps',
     conn:
      NativeConnection {
        base: [Mongoose],
        collections: [Object],
        models: [Object],
        config: [Object],
        replica: false,
        options: null,
        otherDbs: [],
        relatedDbs: {},
        states: [Object],
        _readyState: 1,
        _closeCalled: false,
        _hasOpened: true,
        plugins: [],
        '$internalEmitter': [EventEmitter],
        _listening: false,
        _connectionOptions: [Object],
        name: 'approomdb',
        host: 'localhost',
        port: 27017,
        user: undefined,
        pass: undefined,
        client: [MongoClient],
        '$initialConnection': [Promise],
        db: [Db] },
     queue: [],
     buffer: false,
     emitter:
      EventEmitter {
        _events: [Object: null prototype] {},
        _eventsCount: 0,
        _maxListeners: undefined } },
  Query:
   { [Function]
     base:
      Query {
        toConstructor: [Function: toConstructor],
        setOptions: [Function],
        collection: [Function: collection],
        collation: [Function],
        '$where': [Function],
        where: [Function],
        equals: [Function: equals],
        eq: [Function: eq],
        or: [Function: or],
        nor: [Function: nor],
        and: [Function: and],
        gt: [Function],
        gte: [Function],
        lt: [Function],
        lte: [Function],
        ne: [Function],
        in: [Function],
        nin: [Function],
        all: [Function],
        regex: [Function],
        size: [Function],
        maxDistance: [Function],
        minDistance: [Function],
        mod: [Function],
        exists: [Function],
        elemMatch: [Function],
        within: [Function: within],
        box: [Function],
        polygon: [Function],
        circle: [Function],
        near: [Function: near],
        intersects: [Function: intersects],
        geometry: [Function: geometry],
        select: [Function: select],
        slice: [Function],
        sort: [Function],
        limit: [Function],
        skip: [Function],
        maxScan: [Function],
        batchSize: [Function],
        comment: [Function],
        maxTimeMS: [Function],
        maxTime: [Function],
        snapshot: [Function],
        hint: [Function],
        j: [Function: j],
        slaveOk: [Function],
        setReadPreference: [Function],
        read: [Function],
        r: [Function],
        readConcern: [Function],
        tailable: [Function],
        w: [Function: writeConcern],
        writeConcern: [Function: writeConcern],
        wTimeout: [Function: wtimeout],
        wtimeout: [Function: wtimeout],
        merge: [Function],
        find: [Function],
        cursor: [Function: cursor],
        findOne: [Function],
        count: [Function],
        distinct: [Function],
        update: [Function: update],
        updateMany: [Function: updateMany],
        updateOne: [Function: updateOne],
        replaceOne: [Function: replaceOne],
        remove: [Function],
        deleteOne: [Function],
        deleteMany: [Function],
        findOneAndUpdate: [Function],
        findOneAndDelete: [Function],
        findOneAndRemove: [Function],
        _findAndModify: [Function],
        _wrapCallback: [Function],
        setTraceFunction: [Function],
        exec: [Function: exec],
        thunk: [Function],
        then: [Function],
        stream: [Function],
        selected: [Function: selected],
        selectedInclusively: [Function: selectedInclusively],
        selectedExclusively: [Function: selectedExclusively],
        _mergeUpdate: [Function],
        _optionsForExec: [Function],
        _fieldsForExec: [Function],
        _updateForExec: [Function],
        _ensurePath: [Function],
        _validate: [Function] } },
  '$init': Promise { <pending> },
  '$caught': true,
  [Symbol(mongoose#Model)]: true }
Setting up model schema for connections
mongoose model:
{ [Function: model]
  hooks:
   Kareem {
     _pres: Map { 'save' => [Array], 'remove' => [Array] },
     _posts: Map { 'save' => [Array], 'init' => [Array] } },
  base:
   Mongoose {
     connections: [ [NativeConnection] ],
     models:
      { acl: [Function], apps: [Function], connections: [Circular] },
     modelSchemas: { acl: [Schema], apps: [Schema], connections: [Schema] },
     options: { pluralization: true },
     _pluralize: [Function: pluralize],
     Schema:
      { [Function: Schema] reserved: [Object], Types: [Object], ObjectId: [Function] },
     model: [Function],
     plugins: [ [Array], [Array], [Array], [Array] ] },
  modelName: 'connections',
  model: [Function: model],
  db:
   NativeConnection {
     base:
      Mongoose {
        connections: [Array],
        models: [Object],
        modelSchemas: [Object],
        options: [Object],
        _pluralize: [Function: pluralize],
        Schema: [Function],
        model: [Function],
        plugins: [Array] },
     collections:
      { acl: [NativeCollection],
        apps: [NativeCollection],
        connections: [NativeCollection] },
     models:
      { acl: [Function], apps: [Function], connections: [Circular] },
     config: { autoIndex: true, useCreateIndex: true },
     replica: false,
     options: null,
     otherDbs: [],
     relatedDbs: {},
     states:
      [Object: null prototype] {
        '0': 'disconnected',
        '1': 'connected',
        '2': 'connecting',
        '3': 'disconnecting',
        '99': 'uninitialized',
        disconnected: 0,
        connected: 1,
        connecting: 2,
        disconnecting: 3,
        uninitialized: 99 },
     _readyState: 1,
     _closeCalled: false,
     _hasOpened: true,
     plugins: [],
     '$internalEmitter':
      EventEmitter {
        _events: [Object: null prototype] {},
        _eventsCount: 0,
        _maxListeners: 0 },
     _listening: false,
     _connectionOptions:
      { useNewUrlParser: true, promiseLibrary: [Function: Promise] },
     name: 'approomdb',
     host: 'localhost',
     port: 27017,
     user: undefined,
     pass: undefined,
     client:
      MongoClient {
        _events: [Object],
        _eventsCount: 1,
        _maxListeners: undefined,
        s: [Object],
        topology: [Server] },
     '$initialConnection': Promise { [Circular] },
     db:
      Db {
        _events: [Object],
        _eventsCount: 3,
        _maxListeners: undefined,
        s: [Object],
        serverConfig: [Getter],
        bufferMaxEntries: [Getter],
        databaseName: [Getter] } },
  discriminators: undefined,
  events:
   EventEmitter {
     _events: [Object: null prototype] {},
     _eventsCount: 0,
     _maxListeners: undefined },
  '$appliedMethods': true,
  setupModelSchema: [AsyncFunction: setupModelSchema],
  dbInit: [AsyncFunction: dbInit],
  getCollectionName: [Function: getCollectionName],
  buildSchema: [Function: buildSchema],
  '$appliedHooks': true,
  _middleware:
   Kareem {
     _pres: Map { 'save' => [Array], 'remove' => [Array] },
     _posts: Map { 'save' => [Array], 'init' => [Array] } },
  '$__insertMany': [Function],
  schema:
   Schema {
     obj: { ip: [Object] },
     paths: { ip: [SchemaString], _id: [ObjectId], __v: [SchemaNumber] },
     aliases: {},
     subpaths: {},
     virtuals: { id: [VirtualType] },
     singleNestedPaths: {},
     nested: {},
     inherits: {},
     callQueue: [],
     _indexes: [],
     methods: {},
     methodOptions: {},
     statics:
      { setupModelSchema: [AsyncFunction: setupModelSchema],
        dbInit: [AsyncFunction: dbInit],
        getCollectionName: [Function: getCollectionName],
        buildSchema: [Function: buildSchema] },
     tree:
      { ip: [Object],
        _id: [Object],
        __v: [Function: Number],
        id: [VirtualType] },
     query: {},
     childSchemas: [],
     plugins: [ [Object], [Object], [Object], [Object], [Object] ],
     '$id': 3,
     s: { hooks: [Kareem] },
     _userProvidedOptions: { collection: 'connections' },
     options:
      { collection: 'connections',
        typeKey: 'type',
        id: true,
        noVirtualId: false,
        _id: true,
        noId: false,
        validateBeforeSave: true,
        read: null,
        shardKey: null,
        autoIndex: null,
        minimize: true,
        discriminatorKey: '__t',
        versionKey: '__v',
        capped: false,
        bufferCommands: true,
        strict: true,
        pluralization: true },
     '$globalPluginsApplied': true,
     [Symbol(Mongoose.helpers.setParentPointers)]: true },
  collection:
   NativeCollection {
     collection: Collection { s: [Object] },
     Promise: [Function: Promise],
     opts:
      { bufferCommands: true,
        capped: false,
        Promise: [Function: Promise],
        '$wasForceClosed': undefined },
     name: 'connections',
     collectionName: 'connections',
     conn:
      NativeConnection {
        base: [Mongoose],
        collections: [Object],
        models: [Object],
        config: [Object],
        replica: false,
        options: null,
        otherDbs: [],
        relatedDbs: {},
        states: [Object],
        _readyState: 1,
        _closeCalled: false,
        _hasOpened: true,
        plugins: [],
        '$internalEmitter': [EventEmitter],
        _listening: false,
        _connectionOptions: [Object],
        name: 'approomdb',
        host: 'localhost',
        port: 27017,
        user: undefined,
        pass: undefined,
        client: [MongoClient],
        '$initialConnection': [Promise],
        db: [Db] },
     queue: [],
     buffer: false,
     emitter:
      EventEmitter {
        _events: [Object: null prototype] {},
        _eventsCount: 0,
        _maxListeners: undefined } },
  Query:
   { [Function]
     base:
      Query {
        toConstructor: [Function: toConstructor],
        setOptions: [Function],
        collection: [Function: collection],
        collation: [Function],
        '$where': [Function],
        where: [Function],
        equals: [Function: equals],
        eq: [Function: eq],
        or: [Function: or],
        nor: [Function: nor],
        and: [Function: and],
        gt: [Function],
        gte: [Function],
        lt: [Function],
        lte: [Function],
        ne: [Function],
        in: [Function],
        nin: [Function],
        all: [Function],
        regex: [Function],
        size: [Function],
        maxDistance: [Function],
        minDistance: [Function],
        mod: [Function],
        exists: [Function],
        elemMatch: [Function],
        within: [Function: within],
        box: [Function],
        polygon: [Function],
        circle: [Function],
        near: [Function: near],
        intersects: [Function: intersects],
        geometry: [Function: geometry],
        select: [Function: select],
        slice: [Function],
        sort: [Function],
        limit: [Function],
        skip: [Function],
        maxScan: [Function],
        batchSize: [Function],
        comment: [Function],
        maxTimeMS: [Function],
        maxTime: [Function],
        snapshot: [Function],
        hint: [Function],
        j: [Function: j],
        slaveOk: [Function],
        setReadPreference: [Function],
        read: [Function],
        r: [Function],
        readConcern: [Function],
        tailable: [Function],
        w: [Function: writeConcern],
        writeConcern: [Function: writeConcern],
        wTimeout: [Function: wtimeout],
        wtimeout: [Function: wtimeout],
        merge: [Function],
        find: [Function],
        cursor: [Function: cursor],
        findOne: [Function],
        count: [Function],
        distinct: [Function],
        update: [Function: update],
        updateMany: [Function: updateMany],
        updateOne: [Function: updateOne],
        replaceOne: [Function: replaceOne],
        remove: [Function],
        deleteOne: [Function],
        deleteMany: [Function],
        findOneAndUpdate: [Function],
        findOneAndDelete: [Function],
        findOneAndRemove: [Function],
        _findAndModify: [Function],
        _wrapCallback: [Function],
        setTraceFunction: [Function],
        exec: [Function: exec],
        thunk: [Function],
        then: [Function],
        stream: [Function],
        selected: [Function: selected],
        selectedInclusively: [Function: selectedInclusively],
        selectedExclusively: [Function: selectedExclusively],
        _mergeUpdate: [Function],
        _optionsForExec: [Function],
        _fieldsForExec: [Function],
        _updateForExec: [Function],
        _ensurePath: [Function],
        _validate: [Function] } },
  '$init': Promise { [Circular] },
  '$caught': true,
  [Symbol(mongoose#Model)]: true }
Setting up model schema for files
mongoose model:
{ [Function: model]
  hooks:
   Kareem {
     _pres: Map { 'save' => [Array], 'remove' => [Array] },
     _posts: Map { 'save' => [Array], 'init' => [Array] } },
  base:
   Mongoose {
     connections: [ [NativeConnection] ],
     models:
      { acl: [Function],
        apps: [Function],
        connections: [Function],
        files: [Circular] },
     modelSchemas:
      { acl: [Schema],
        apps: [Schema],
        connections: [Schema],
        files: [Schema] },
     options: { pluralization: true },
     _pluralize: [Function: pluralize],
     Schema:
      { [Function: Schema] reserved: [Object], Types: [Object], ObjectId: [Function] },
     model: [Function],
     plugins: [ [Array], [Array], [Array], [Array] ] },
  modelName: 'files',
  model: [Function: model],
  db:
   NativeConnection {
     base:
      Mongoose {
        connections: [Array],
        models: [Object],
        modelSchemas: [Object],
        options: [Object],
        _pluralize: [Function: pluralize],
        Schema: [Function],
        model: [Function],
        plugins: [Array] },
     collections:
      { acl: [NativeCollection],
        apps: [NativeCollection],
        connections: [NativeCollection],
        files: [NativeCollection] },
     models:
      { acl: [Function],
        apps: [Function],
        connections: [Function],
        files: [Circular] },
     config: { autoIndex: true, useCreateIndex: true },
     replica: false,
     options: null,
     otherDbs: [],
     relatedDbs: {},
     states:
      [Object: null prototype] {
        '0': 'disconnected',
        '1': 'connected',
        '2': 'connecting',
        '3': 'disconnecting',
        '99': 'uninitialized',
        disconnected: 0,
        connected: 1,
        connecting: 2,
        disconnecting: 3,
        uninitialized: 99 },
     _readyState: 1,
     _closeCalled: false,
     _hasOpened: true,
     plugins: [],
     '$internalEmitter':
      EventEmitter {
        _events: [Object: null prototype] {},
        _eventsCount: 0,
        _maxListeners: 0 },
     _listening: false,
     _connectionOptions:
      { useNewUrlParser: true, promiseLibrary: [Function: Promise] },
     name: 'approomdb',
     host: 'localhost',
     port: 27017,
     user: undefined,
     pass: undefined,
     client:
      MongoClient {
        _events: [Object],
        _eventsCount: 1,
        _maxListeners: undefined,
        s: [Object],
        topology: [Server] },
     '$initialConnection': Promise { [Circular] },
     db:
      Db {
        _events: [Object],
        _eventsCount: 3,
        _maxListeners: undefined,
        s: [Object],
        serverConfig: [Getter],
        bufferMaxEntries: [Getter],
        databaseName: [Getter] } },
  discriminators: undefined,
  events:
   EventEmitter {
     _events: [Object: null prototype] {},
     _eventsCount: 0,
     _maxListeners: undefined },
  '$appliedMethods': true,
  setupModelSchema: [AsyncFunction: setupModelSchema],
  dbInit: [AsyncFunction: dbInit],
  getCollectionName: [Function: getCollectionName],
  buildSchema: [Function: buildSchema],
  '$appliedHooks': true,
  _middleware:
   Kareem {
     _pres: Map { 'save' => [Array], 'remove' => [Array] },
     _posts: Map { 'save' => [Array], 'init' => [Array] } },
  '$__insertMany': [Function],
  schema:
   Schema {
     obj: { path: [Object] },
     paths:
      { path: [SchemaString], _id: [ObjectId], __v: [SchemaNumber] },
     aliases: {},
     subpaths: {},
     virtuals: { id: [VirtualType] },
     singleNestedPaths: {},
     nested: {},
     inherits: {},
     callQueue: [],
     _indexes: [],
     methods: {},
     methodOptions: {},
     statics:
      { setupModelSchema: [AsyncFunction: setupModelSchema],
        dbInit: [AsyncFunction: dbInit],
        getCollectionName: [Function: getCollectionName],
        buildSchema: [Function: buildSchema] },
     tree:
      { path: [Object],
        _id: [Object],
        __v: [Function: Number],
        id: [VirtualType] },
     query: {},
     childSchemas: [],
     plugins: [ [Object], [Object], [Object], [Object], [Object] ],
     '$id': 4,
     s: { hooks: [Kareem] },
     _userProvidedOptions: { collection: 'files' },
     options:
      { collection: 'files',
        typeKey: 'type',
        id: true,
        noVirtualId: false,
        _id: true,
        noId: false,
        validateBeforeSave: true,
        read: null,
        shardKey: null,
        autoIndex: null,
        minimize: true,
        discriminatorKey: '__t',
        versionKey: '__v',
        capped: false,
        bufferCommands: true,
        strict: true,
        pluralization: true },
     '$globalPluginsApplied': true,
     [Symbol(Mongoose.helpers.setParentPointers)]: true },
  collection:
   NativeCollection {
     collection: Collection { s: [Object] },
     Promise: [Function: Promise],
     opts:
      { bufferCommands: true,
        capped: false,
        Promise: [Function: Promise],
        '$wasForceClosed': undefined },
     name: 'files',
     collectionName: 'files',
     conn:
      NativeConnection {
        base: [Mongoose],
        collections: [Object],
        models: [Object],
        config: [Object],
        replica: false,
        options: null,
        otherDbs: [],
        relatedDbs: {},
        states: [Object],
        _readyState: 1,
        _closeCalled: false,
        _hasOpened: true,
        plugins: [],
        '$internalEmitter': [EventEmitter],
        _listening: false,
        _connectionOptions: [Object],
        name: 'approomdb',
        host: 'localhost',
        port: 27017,
        user: undefined,
        pass: undefined,
        client: [MongoClient],
        '$initialConnection': [Promise],
        db: [Db] },
     queue: [],
     buffer: false,
     emitter:
      EventEmitter {
        _events: [Object: null prototype] {},
        _eventsCount: 0,
        _maxListeners: undefined } },
  Query:
   { [Function]
     base:
      Query {
        toConstructor: [Function: toConstructor],
        setOptions: [Function],
        collection: [Function: collection],
        collation: [Function],
        '$where': [Function],
        where: [Function],
        equals: [Function: equals],
        eq: [Function: eq],
        or: [Function: or],
        nor: [Function: nor],
        and: [Function: and],
        gt: [Function],
        gte: [Function],
        lt: [Function],
        lte: [Function],
        ne: [Function],
        in: [Function],
        nin: [Function],
        all: [Function],
        regex: [Function],
        size: [Function],
        maxDistance: [Function],
        minDistance: [Function],
        mod: [Function],
        exists: [Function],
        elemMatch: [Function],
        within: [Function: within],
        box: [Function],
        polygon: [Function],
        circle: [Function],
        near: [Function: near],
        intersects: [Function: intersects],
        geometry: [Function: geometry],
        select: [Function: select],
        slice: [Function],
        sort: [Function],
        limit: [Function],
        skip: [Function],
        maxScan: [Function],
        batchSize: [Function],
        comment: [Function],
        maxTimeMS: [Function],
        maxTime: [Function],
        snapshot: [Function],
        hint: [Function],
        j: [Function: j],
        slaveOk: [Function],
        setReadPreference: [Function],
        read: [Function],
        r: [Function],
        readConcern: [Function],
        tailable: [Function],
        w: [Function: writeConcern],
        writeConcern: [Function: writeConcern],
        wTimeout: [Function: wtimeout],
        wtimeout: [Function: wtimeout],
        merge: [Function],
        find: [Function],
        cursor: [Function: cursor],
        findOne: [Function],
        count: [Function],
        distinct: [Function],
        update: [Function: update],
        updateMany: [Function: updateMany],
        updateOne: [Function: updateOne],
        replaceOne: [Function: replaceOne],
        remove: [Function],
        deleteOne: [Function],
        deleteMany: [Function],
        findOneAndUpdate: [Function],
        findOneAndDelete: [Function],
        findOneAndRemove: [Function],
        _findAndModify: [Function],
        _wrapCallback: [Function],
        setTraceFunction: [Function],
        exec: [Function: exec],
        thunk: [Function],
        then: [Function],
        stream: [Function],
        selected: [Function: selected],
        selectedInclusively: [Function: selectedInclusively],
        selectedExclusively: [Function: selectedExclusively],
        _mergeUpdate: [Function],
        _optionsForExec: [Function],
        _fieldsForExec: [Function],
        _updateForExec: [Function],
        _ensurePath: [Function],
        _validate: [Function] } },
  '$init': Promise { <pending> },
  '$caught': true,
  [Symbol(mongoose#Model)]: true }
Setting up model schema for rooms
mongoose model:
{ [Function: model]
  hooks:
   Kareem {
     _pres: Map { 'save' => [Array], 'remove' => [Array] },
     _posts: Map { 'save' => [Array], 'init' => [Array] } },
  base:
   Mongoose {
     connections: [ [NativeConnection] ],
     models:
      { acl: [Function],
        apps: [Function],
        connections: [Function],
        files: [Function],
        rooms: [Circular] },
     modelSchemas:
      { acl: [Schema],
        apps: [Schema],
        connections: [Schema],
        files: [Schema],
        rooms: [Schema] },
     options: { pluralization: true },
     _pluralize: [Function: pluralize],
     Schema:
      { [Function: Schema] reserved: [Object], Types: [Object], ObjectId: [Function] },
     model: [Function],
     plugins: [ [Array], [Array], [Array], [Array] ] },
  modelName: 'rooms',
  model: [Function: model],
  db:
   NativeConnection {
     base:
      Mongoose {
        connections: [Array],
        models: [Object],
        modelSchemas: [Object],
        options: [Object],
        _pluralize: [Function: pluralize],
        Schema: [Function],
        model: [Function],
        plugins: [Array] },
     collections:
      { acl: [NativeCollection],
        apps: [NativeCollection],
        connections: [NativeCollection],
        files: [NativeCollection],
        rooms: [NativeCollection] },
     models:
      { acl: [Function],
        apps: [Function],
        connections: [Function],
        files: [Function],
        rooms: [Circular] },
     config: { autoIndex: true, useCreateIndex: true },
     replica: false,
     options: null,
     otherDbs: [],
     relatedDbs: {},
     states:
      [Object: null prototype] {
        '0': 'disconnected',
        '1': 'connected',
        '2': 'connecting',
        '3': 'disconnecting',
        '99': 'uninitialized',
        disconnected: 0,
        connected: 1,
        connecting: 2,
        disconnecting: 3,
        uninitialized: 99 },
     _readyState: 1,
     _closeCalled: false,
     _hasOpened: true,
     plugins: [],
     '$internalEmitter':
      EventEmitter {
        _events: [Object: null prototype] {},
        _eventsCount: 0,
        _maxListeners: 0 },
     _listening: false,
     _connectionOptions:
      { useNewUrlParser: true, promiseLibrary: [Function: Promise] },
     name: 'approomdb',
     host: 'localhost',
     port: 27017,
     user: undefined,
     pass: undefined,
     client:
      MongoClient {
        _events: [Object],
        _eventsCount: 1,
        _maxListeners: undefined,
        s: [Object],
        topology: [Server] },
     '$initialConnection': Promise { [Circular] },
     db:
      Db {
        _events: [Object],
        _eventsCount: 3,
        _maxListeners: undefined,
        s: [Object],
        serverConfig: [Getter],
        bufferMaxEntries: [Getter],
        databaseName: [Getter] } },
  discriminators: undefined,
  events:
   EventEmitter {
     _events: [Object: null prototype] {},
     _eventsCount: 0,
     _maxListeners: undefined },
  '$appliedMethods': true,
  setupModelSchema: [AsyncFunction: setupModelSchema],
  dbInit: [AsyncFunction: dbInit],
  getCollectionName: [Function: getCollectionName],
  buildSchema: [Function: buildSchema],
  '$appliedHooks': true,
  _middleware:
   Kareem {
     _pres: Map { 'save' => [Array], 'remove' => [Array] },
     _posts: Map { 'save' => [Array], 'init' => [Array] } },
  '$__insertMany': [Function],
  schema:
   Schema {
     obj: { code: [Object] },
     paths:
      { code: [SchemaString], _id: [ObjectId], __v: [SchemaNumber] },
     aliases: {},
     subpaths: {},
     virtuals: { id: [VirtualType] },
     singleNestedPaths: {},
     nested: {},
     inherits: {},
     callQueue: [],
     _indexes: [],
     methods: {},
     methodOptions: {},
     statics:
      { setupModelSchema: [AsyncFunction: setupModelSchema],
        dbInit: [AsyncFunction: dbInit],
        getCollectionName: [Function: getCollectionName],
        buildSchema: [Function: buildSchema] },
     tree:
      { code: [Object],
        _id: [Object],
        __v: [Function: Number],
        id: [VirtualType] },
     query: {},
     childSchemas: [],
     plugins: [ [Object], [Object], [Object], [Object], [Object] ],
     '$id': 5,
     s: { hooks: [Kareem] },
     _userProvidedOptions: { collection: 'rooms' },
     options:
      { collection: 'rooms',
        typeKey: 'type',
        id: true,
        noVirtualId: false,
        _id: true,
        noId: false,
        validateBeforeSave: true,
        read: null,
        shardKey: null,
        autoIndex: null,
        minimize: true,
        discriminatorKey: '__t',
        versionKey: '__v',
        capped: false,
        bufferCommands: true,
        strict: true,
        pluralization: true },
     '$globalPluginsApplied': true,
     [Symbol(Mongoose.helpers.setParentPointers)]: true },
  collection:
   NativeCollection {
     collection: Collection { s: [Object] },
     Promise: [Function: Promise],
     opts:
      { bufferCommands: true,
        capped: false,
        Promise: [Function: Promise],
        '$wasForceClosed': undefined },
     name: 'rooms',
     collectionName: 'rooms',
     conn:
      NativeConnection {
        base: [Mongoose],
        collections: [Object],
        models: [Object],
        config: [Object],
        replica: false,
        options: null,
        otherDbs: [],
        relatedDbs: {},
        states: [Object],
        _readyState: 1,
        _closeCalled: false,
        _hasOpened: true,
        plugins: [],
        '$internalEmitter': [EventEmitter],
        _listening: false,
        _connectionOptions: [Object],
        name: 'approomdb',
        host: 'localhost',
        port: 27017,
        user: undefined,
        pass: undefined,
        client: [MongoClient],
        '$initialConnection': [Promise],
        db: [Db] },
     queue: [],
     buffer: false,
     emitter:
      EventEmitter {
        _events: [Object: null prototype] {},
        _eventsCount: 0,
        _maxListeners: undefined } },
  Query:
   { [Function]
     base:
      Query {
        toConstructor: [Function: toConstructor],
        setOptions: [Function],
        collection: [Function: collection],
        collation: [Function],
        '$where': [Function],
        where: [Function],
        equals: [Function: equals],
        eq: [Function: eq],
        or: [Function: or],
        nor: [Function: nor],
        and: [Function: and],
        gt: [Function],
        gte: [Function],
        lt: [Function],
        lte: [Function],
        ne: [Function],
        in: [Function],
        nin: [Function],
        all: [Function],
        regex: [Function],
        size: [Function],
        maxDistance: [Function],
        minDistance: [Function],
        mod: [Function],
        exists: [Function],
        elemMatch: [Function],
        within: [Function: within],
        box: [Function],
        polygon: [Function],
        circle: [Function],
        near: [Function: near],
        intersects: [Function: intersects],
        geometry: [Function: geometry],
        select: [Function: select],
        slice: [Function],
        sort: [Function],
        limit: [Function],
        skip: [Function],
        maxScan: [Function],
        batchSize: [Function],
        comment: [Function],
        maxTimeMS: [Function],
        maxTime: [Function],
        snapshot: [Function],
        hint: [Function],
        j: [Function: j],
        slaveOk: [Function],
        setReadPreference: [Function],
        read: [Function],
        r: [Function],
        readConcern: [Function],
        tailable: [Function],
        w: [Function: writeConcern],
        writeConcern: [Function: writeConcern],
        wTimeout: [Function: wtimeout],
        wtimeout: [Function: wtimeout],
        merge: [Function],
        find: [Function],
        cursor: [Function: cursor],
        findOne: [Function],
        count: [Function],
        distinct: [Function],
        update: [Function: update],
        updateMany: [Function: updateMany],
        updateOne: [Function: updateOne],
        replaceOne: [Function: replaceOne],
        remove: [Function],
        deleteOne: [Function],
        deleteMany: [Function],
        findOneAndUpdate: [Function],
        findOneAndDelete: [Function],
        findOneAndRemove: [Function],
        _findAndModify: [Function],
        _wrapCallback: [Function],
        setTraceFunction: [Function],
        exec: [Function: exec],
        thunk: [Function],
        then: [Function],
        stream: [Function],
        selected: [Function: selected],
        selectedInclusively: [Function: selectedInclusively],
        selectedExclusively: [Function: selectedExclusively],
        _mergeUpdate: [Function],
        _optionsForExec: [Function],
        _fieldsForExec: [Function],
        _updateForExec: [Function],
        _ensurePath: [Function],
        _validate: [Function] } },
  '$init': Promise { <pending> },
  '$caught': true,
  [Symbol(mongoose#Model)]: true }
Setting up model schema for users
mongoose model:
{ [Function: model]
  hooks:
   Kareem {
     _pres: Map { 'save' => [Array], 'remove' => [Array] },
     _posts: Map { 'save' => [Array], 'init' => [Array] } },
  base:
   Mongoose {
     connections: [ [NativeConnection] ],
     models:
      { acl: [Function],
        apps: [Function],
        connections: [Function],
        files: [Function],
        rooms: [Function],
        users: [Circular] },
     modelSchemas:
      { acl: [Schema],
        apps: [Schema],
        connections: [Schema],
        files: [Schema],
        rooms: [Schema],
        users: [Schema] },
     options: { pluralization: true },
     _pluralize: [Function: pluralize],
     Schema:
      { [Function: Schema] reserved: [Object], Types: [Object], ObjectId: [Function] },
     model: [Function],
     plugins: [ [Array], [Array], [Array], [Array] ] },
  modelName: 'users',
  model: [Function: model],
  db:
   NativeConnection {
     base:
      Mongoose {
        connections: [Array],
        models: [Object],
        modelSchemas: [Object],
        options: [Object],
        _pluralize: [Function: pluralize],
        Schema: [Function],
        model: [Function],
        plugins: [Array] },
     collections:
      { acl: [NativeCollection],
        apps: [NativeCollection],
        connections: [NativeCollection],
        files: [NativeCollection],
        rooms: [NativeCollection],
        users: [NativeCollection] },
     models:
      { acl: [Function],
        apps: [Function],
        connections: [Function],
        files: [Function],
        rooms: [Function],
        users: [Circular] },
     config: { autoIndex: true, useCreateIndex: true },
     replica: false,
     options: null,
     otherDbs: [],
     relatedDbs: {},
     states:
      [Object: null prototype] {
        '0': 'disconnected',
        '1': 'connected',
        '2': 'connecting',
        '3': 'disconnecting',
        '99': 'uninitialized',
        disconnected: 0,
        connected: 1,
        connecting: 2,
        disconnecting: 3,
        uninitialized: 99 },
     _readyState: 1,
     _closeCalled: false,
     _hasOpened: true,
     plugins: [],
     '$internalEmitter':
      EventEmitter {
        _events: [Object: null prototype] {},
        _eventsCount: 0,
        _maxListeners: 0 },
     _listening: false,
     _connectionOptions:
      { useNewUrlParser: true, promiseLibrary: [Function: Promise] },
     name: 'approomdb',
     host: 'localhost',
     port: 27017,
     user: undefined,
     pass: undefined,
     client:
      MongoClient {
        _events: [Object],
        _eventsCount: 1,
        _maxListeners: undefined,
        s: [Object],
        topology: [Server] },
     '$initialConnection': Promise { [Circular] },
     db:
      Db {
        _events: [Object],
        _eventsCount: 3,
        _maxListeners: undefined,
        s: [Object],
        serverConfig: [Getter],
        bufferMaxEntries: [Getter],
        databaseName: [Getter] } },
  discriminators: undefined,
  events:
   EventEmitter {
     _events: [Object: null prototype] {},
     _eventsCount: 0,
     _maxListeners: undefined },
  '$appliedMethods': true,
  setupModelSchema: [AsyncFunction: setupModelSchema],
  dbInit: [AsyncFunction: dbInit],
  getCollectionName: [Function: getCollectionName],
  buildSchema: [Function: buildSchema],
  '$appliedHooks': true,
  _middleware:
   Kareem {
     _pres: Map { 'save' => [Array], 'remove' => [Array] },
     _posts: Map { 'save' => [Array], 'init' => [Array] } },
  '$__insertMany': [Function],
  schema:
   Schema {
     obj: { username: [Object], realname: [Object], email: [Object] },
     paths:
      { username: [SchemaString],
        realname: [SchemaString],
        email: [SchemaString],
        _id: [ObjectId],
        __v: [SchemaNumber] },
     aliases: {},
     subpaths: {},
     virtuals: { id: [VirtualType] },
     singleNestedPaths: {},
     nested: {},
     inherits: {},
     callQueue: [],
     _indexes: [],
     methods: {},
     methodOptions: {},
     statics:
      { setupModelSchema: [AsyncFunction: setupModelSchema],
        dbInit: [AsyncFunction: dbInit],
        getCollectionName: [Function: getCollectionName],
        buildSchema: [Function: buildSchema] },
     tree:
      { username: [Object],
        realname: [Object],
        email: [Object],
        _id: [Object],
        __v: [Function: Number],
        id: [VirtualType] },
     query: {},
     childSchemas: [],
     plugins: [ [Object], [Object], [Object], [Object], [Object] ],
     '$id': 6,
     s: { hooks: [Kareem] },
     _userProvidedOptions: { collection: 'users' },
     options:
      { collection: 'users',
        typeKey: 'type',
        id: true,
        noVirtualId: false,
        _id: true,
        noId: false,
        validateBeforeSave: true,
        read: null,
        shardKey: null,
        autoIndex: null,
        minimize: true,
        discriminatorKey: '__t',
        versionKey: '__v',
        capped: false,
        bufferCommands: true,
        strict: true,
        pluralization: true },
     '$globalPluginsApplied': true,
     [Symbol(Mongoose.helpers.setParentPointers)]: true },
  collection:
   NativeCollection {
     collection: Collection { s: [Object] },
     Promise: [Function: Promise],
     opts:
      { bufferCommands: true,
        capped: false,
        Promise: [Function: Promise],
        '$wasForceClosed': undefined },
     name: 'users',
     collectionName: 'users',
     conn:
      NativeConnection {
        base: [Mongoose],
        collections: [Object],
        models: [Object],
        config: [Object],
        replica: false,
        options: null,
        otherDbs: [],
        relatedDbs: {},
        states: [Object],
        _readyState: 1,
        _closeCalled: false,
        _hasOpened: true,
        plugins: [],
        '$internalEmitter': [EventEmitter],
        _listening: false,
        _connectionOptions: [Object],
        name: 'approomdb',
        host: 'localhost',
        port: 27017,
        user: undefined,
        pass: undefined,
        client: [MongoClient],
        '$initialConnection': [Promise],
        db: [Db] },
     queue: [],
     buffer: false,
     emitter:
      EventEmitter {
        _events: [Object: null prototype] {},
        _eventsCount: 0,
        _maxListeners: undefined } },
  Query:
   { [Function]
     base:
      Query {
        toConstructor: [Function: toConstructor],
        setOptions: [Function],
        collection: [Function: collection],
        collation: [Function],
        '$where': [Function],
        where: [Function],
        equals: [Function: equals],
        eq: [Function: eq],
        or: [Function: or],
        nor: [Function: nor],
        and: [Function: and],
        gt: [Function],
        gte: [Function],
        lt: [Function],
        lte: [Function],
        ne: [Function],
        in: [Function],
        nin: [Function],
        all: [Function],
        regex: [Function],
        size: [Function],
        maxDistance: [Function],
        minDistance: [Function],
        mod: [Function],
        exists: [Function],
        elemMatch: [Function],
        within: [Function: within],
        box: [Function],
        polygon: [Function],
        circle: [Function],
        near: [Function: near],
        intersects: [Function: intersects],
        geometry: [Function: geometry],
        select: [Function: select],
        slice: [Function],
        sort: [Function],
        limit: [Function],
        skip: [Function],
        maxScan: [Function],
        batchSize: [Function],
        comment: [Function],
        maxTimeMS: [Function],
        maxTime: [Function],
        snapshot: [Function],
        hint: [Function],
        j: [Function: j],
        slaveOk: [Function],
        setReadPreference: [Function],
        read: [Function],
        r: [Function],
        readConcern: [Function],
        tailable: [Function],
        w: [Function: writeConcern],
        writeConcern: [Function: writeConcern],
        wTimeout: [Function: wtimeout],
        wtimeout: [Function: wtimeout],
        merge: [Function],
        find: [Function],
        cursor: [Function: cursor],
        findOne: [Function],
        count: [Function],
        distinct: [Function],
        update: [Function: update],
        updateMany: [Function: updateMany],
        updateOne: [Function: updateOne],
        replaceOne: [Function: replaceOne],
        remove: [Function],
        deleteOne: [Function],
        deleteMany: [Function],
        findOneAndUpdate: [Function],
        findOneAndDelete: [Function],
        findOneAndRemove: [Function],
        _findAndModify: [Function],
        _wrapCallback: [Function],
        setTraceFunction: [Function],
        exec: [Function: exec],
        thunk: [Function],
        then: [Function],
        stream: [Function],
        selected: [Function: selected],
        selectedInclusively: [Function: selectedInclusively],
        selectedExclusively: [Function: selectedExclusively],
        _mergeUpdate: [Function],
        _optionsForExec: [Function],
        _fieldsForExec: [Function],
        _updateForExec: [Function],
        _ensurePath: [Function],
        _validate: [Function] } },
  '$init': Promise { <pending> },
  '$caught': true,
  [Symbol(mongoose#Model)]: true }
Inside User dbInit
Exception while trying to setup database:
ReferenceError: docs is not defined
    at Function.dbInit (E:\MyDocs\Programming\nodejs\approom\source\models\user.js:44:8)
    at process._tickCallback (internal/process/next_tick.js:68:7)
Closing mongoose-mongodb connection.
Finished dbsetup.
